{"mappings":"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","sources":["src/js/views/DOM.js","src/js/helpers.js","src/js/model.js","src/js/views/tilesView.js","src/js/views/turnsView.js","src/js/views/gameView.js","src/js/views/popUpView.js","src/js/controler.js","src/js/views/copyRightView.js","src/js/views/rulesSectionView.js"],"sourcesContent":["const DOM = {\r\n  mainSectionEl: document.querySelector(\".main\"),\r\n  gameSectionEl: document.querySelector(\".section-game\"),\r\n  tilesArry: Array.from(document.querySelectorAll(\".tile\")),\r\n  middleTile: document.querySelector(\".middle\"),\r\n  yellowMeteor: document.querySelector(\".yellow\"),\r\n  innerYellowMeteor: document.querySelector(\".yellow-inner\"),\r\n  blueMeteor: document.querySelector(\".blue\"),\r\n  meteorsCounter: document.querySelector(\".meteors-num\"),\r\n  turnsCounter: document.querySelector(\".turn\"),\r\n  popUp: document.querySelector(\".pop-up\"),\r\n  restartBtn: document.querySelector(\".restart-btn\"),\r\n  copyRight: document.querySelector(\".year\"),\r\n  startPlayingBtn: document.querySelector(\".play-btn\"),\r\n  topBtn: document.querySelector(\".top-btn\"),\r\n  resetBtn: document.querySelector(\".reset-btn\"),\r\n};\r\n\r\nexport default DOM;\r\n","//  OFFSET BETWEEN OUTER ANGLES AND CIRCLE FOR YELLOW METEOR\r\nexport const ANGLES_TO_CIRCLE_OFFSET = 71;\r\nexport const METEORS_COUNTER = 1;\r\nexport const TURNS_COUNT = 5;\r\n\r\n//  GENERATE RANDOM METEORS NUMBER BETWEEN 3-5\r\nexport const GENERATE_RND_METEORS_NUM = function () {\r\n  const requiredMeteors = Math.trunc(Math.random() * (5 - 3 + 1) + 3);\r\n  return requiredMeteors;\r\n};\r\n\r\n//  FOOTER GET YEAR FUCNTION FOR COPYRIGHT\r\nexport const GET_CURRENT_YEAR = function () {\r\n  const year = new Date().getFullYear();\r\n  return year;\r\n};\r\n","//  GLOBAL IMPORTS\r\nimport * as helpers from \"./helpers\";\r\n\r\n//  GLOBAL VARIABLES\r\nexport let meteorsPos;\r\nexport let meteorsNum = helpers.GENERATE_RND_METEORS_NUM();\r\nexport let meteorsCounter = helpers.METEORS_COUNTER;\r\nexport let turnsCount = helpers.TURNS_COUNT;\r\n\r\nlet initClientX, initClientY, meteorTopPos, meteorLeftPos;\r\n\r\n// GET THE INITIAL POSITION OF BOTH METEORS WHEN THE APP STARTS\r\nexport const meteorsInitPos = function (blueMeteor, yellowMeteor) {\r\n  const meteorsObj = {\r\n    blueMeteor: {\r\n      topPos: getComputedStyle(blueMeteor).top,\r\n      leftPos: getComputedStyle(blueMeteor).left,\r\n    },\r\n    yellowMeteor: {\r\n      topPos: getComputedStyle(yellowMeteor).top,\r\n      leftPos: getComputedStyle(yellowMeteor).left,\r\n    },\r\n  };\r\n  meteorsPos = meteorsObj;\r\n};\r\n\r\n//  GET THE INITIAL CLICK OR TOUCH AND CURRENT METEORS POSITION\r\nexport const getInitPos = function (target, meteor) {\r\n  initClientX = target.clientX;\r\n  initClientY = target.clientY;\r\n  meteorTopPos = parseInt(getComputedStyle(meteor).top);\r\n  meteorLeftPos = parseInt(getComputedStyle(meteor).left);\r\n};\r\n\r\n//  MOVE METEORS CALC FUCNTION WHILE MOUSE AND TOUCH MOVES\r\nexport const moveMeteors = function (e, meteor) {\r\n  let cursorPosX, cursorPosY;\r\n  if (e.type === \"touchmove\") {\r\n    cursorPosX = e.touches[0].clientX - initClientX;\r\n    cursorPosY = e.touches[0].clientY - initClientY;\r\n\r\n    meteor.style.top =\r\n      meteorTopPos + parseInt(getComputedStyle(meteor).y) + cursorPosY + \"px\";\r\n    meteor.style.left =\r\n      meteorLeftPos + parseInt(getComputedStyle(meteor).x) + cursorPosX + \"px\";\r\n  }\r\n  if (e.type === \"mousemove\") {\r\n    cursorPosX = e.clientX - initClientX;\r\n    cursorPosY = e.clientY - initClientY;\r\n    meteor.style.top =\r\n      meteorTopPos + parseInt(getComputedStyle(meteor).y) + cursorPosY + \"px\";\r\n    meteor.style.left =\r\n      meteorLeftPos + parseInt(getComputedStyle(meteor).x) + cursorPosX + \"px\";\r\n  }\r\n};\r\n\r\n//  RESTORE METEORS INITIAL POSITION AFTER DROPPING THEM ANYWHERE\r\nexport const restoreMeteorInitPos = function (blueMeteor, yellowMeteor) {\r\n  blueMeteor.style.pointerEvents = \"none\";\r\n  yellowMeteor.style.pointerEvents = \"none\";\r\n  setTimeout(() => {\r\n    blueMeteor.style.top = meteorsPos.blueMeteor.topPos;\r\n    blueMeteor.style.left = meteorsPos.blueMeteor.leftPos;\r\n    yellowMeteor.style.top = meteorsPos.yellowMeteor.topPos;\r\n    yellowMeteor.style.left = meteorsPos.yellowMeteor.leftPos;\r\n    blueMeteor.style.pointerEvents = \"auto\";\r\n    yellowMeteor.style.pointerEvents = \"auto\";\r\n  }, 500);\r\n};\r\n\r\n// GET THE TILES HIT WHEN A METEOR DROP AND BY THE INNER OF THE YELLOW METEOR\r\nexport const meteorsDroppedTiles = function (meteor, yellowInner) {\r\n  let tilesHit;\r\n  let meteorData = meteor.getBoundingClientRect();\r\n  const innerData = yellowInner.getBoundingClientRect();\r\n\r\n  const sidesCoordinatesArry = sidesCoordinates(meteorData);\r\n  const angleCoordinatesArry = anglesCoordinates(meteorData);\r\n  const innerYellowCoordinatesArry = innerYellowCoordinates(innerData);\r\n  const center = centerCoordinates(meteorData);\r\n  const middleHit = document\r\n    .elementsFromPoint(...center)\r\n    .filter((el) => el.classList[0] === \"tile\");\r\n  if (middleHit.length === 0) return;\r\n  if (meteor.classList.contains(\"blue\")) {\r\n    const sidesHit = sidesCoordinatesArry\r\n      .map((c) => document.elementFromPoint(...c))\r\n      .filter((el) => el.classList.contains(\"tile\"));\r\n\r\n    tilesHit = sidesHit.concat(middleHit);\r\n  } else {\r\n    const outerInnerHit = sidesCoordinatesArry\r\n      .concat(angleCoordinatesArry)\r\n      .concat(innerYellowCoordinatesArry)\r\n      .map((c) => document.elementFromPoint(...c))\r\n      .filter((el) => el !== null && el.classList[0] === \"tile\");\r\n    tilesHit = outerInnerHit.concat(middleHit);\r\n  }\r\n\r\n  const droppedZone = Array.from(new Set(Array.from(tilesHit)));\r\n  return droppedZone;\r\n};\r\n//  GET THE COORDINATES OF THE SIDES OF A METEOR\r\n//  WHICH ARE HALF THE DISTANCE BETWEEN EACH 2 ANGLES\r\n//  -1 FOR SMALL OFFSET TO DETECT THE TILE IT TOUCHES\r\nconst sidesCoordinates = function (meteorData) {\r\n  const [topBoundryX, topBoundryY] = [\r\n    meteorData.left + meteorData.width / 2,\r\n    meteorData.top - 1,\r\n  ];\r\n  const [bottomBoundryX, bottomBoundryY] = [\r\n    meteorData.right - meteorData.width / 2,\r\n    meteorData.bottom,\r\n  ];\r\n  const [leftBoundryX, leftBoundryY] = [\r\n    meteorData.left - 1,\r\n    meteorData.bottom - meteorData.height / 2,\r\n  ];\r\n  const [rightBoundryX, rightBoundryY] = [\r\n    meteorData.right,\r\n    meteorData.bottom - meteorData.height / 2,\r\n  ];\r\n\r\n  return [\r\n    [topBoundryX, topBoundryY],\r\n    [bottomBoundryX, bottomBoundryY],\r\n    [leftBoundryX, leftBoundryY],\r\n    [rightBoundryX, rightBoundryY],\r\n  ];\r\n};\r\n\r\n//  GET THE COODINATES OF THE OUTER CIRCLE OF THE YELLOW METEOR\r\nconst anglesCoordinates = function (meteorData) {\r\n  const [leftTopCornerX, leftTopCornerY] = [\r\n    meteorData.left + helpers.ANGLES_TO_CIRCLE_OFFSET,\r\n    meteorData.top + helpers.ANGLES_TO_CIRCLE_OFFSET,\r\n  ];\r\n  const [rightTopCornerX, rightTopCornerY] = [\r\n    meteorData.right - helpers.ANGLES_TO_CIRCLE_OFFSET,\r\n    meteorData.top + helpers.ANGLES_TO_CIRCLE_OFFSET,\r\n  ];\r\n  const [leftBottomCornerX, leftBottomCornerY] = [\r\n    meteorData.left + helpers.ANGLES_TO_CIRCLE_OFFSET,\r\n    meteorData.bottom - helpers.ANGLES_TO_CIRCLE_OFFSET,\r\n  ];\r\n  const [rightBottomCornerX, rightBottomCornerY] = [\r\n    meteorData.right - helpers.ANGLES_TO_CIRCLE_OFFSET,\r\n    meteorData.bottom - helpers.ANGLES_TO_CIRCLE_OFFSET,\r\n  ];\r\n\r\n  return [\r\n    [leftTopCornerX, leftTopCornerY],\r\n    [rightTopCornerX, rightTopCornerY],\r\n    [leftBottomCornerX, leftBottomCornerY],\r\n    [rightBottomCornerX, rightBottomCornerY],\r\n  ];\r\n};\r\n\r\n//  GET THE COORDINATES OF THE CENTER OF A METEOR\r\nconst centerCoordinates = function (meteorData) {\r\n  const [centerX, centerY] = [\r\n    meteorData.left + meteorData.width / 2,\r\n    meteorData.top + meteorData.height / 2,\r\n  ];\r\n\r\n  return [centerX, centerY];\r\n};\r\n\r\n//  GET THE COODINATES OF THE INNER CIRCLE OF THE YELLOW METEOR\r\nconst innerYellowCoordinates = function (innerData) {\r\n  const [topInnerBoundryX, topInnerBoundryY] = [\r\n    innerData.left + innerData.width / 2,\r\n    innerData.top - 1,\r\n  ];\r\n  const [bottomInnerBoundryX, bottomInnerBoundryY] = [\r\n    innerData.right - innerData.width / 2,\r\n    innerData.bottom,\r\n  ];\r\n  const [leftInnerBoundryX, leftInnerBoundryY] = [\r\n    innerData.left - 1,\r\n    innerData.bottom - innerData.height / 2,\r\n  ];\r\n  const [rightInnerBoundryX, rightInnerBoundryY] = [\r\n    innerData.right,\r\n    innerData.bottom - innerData.height / 2,\r\n  ];\r\n\r\n  return [\r\n    [topInnerBoundryX, topInnerBoundryY],\r\n    [bottomInnerBoundryX, bottomInnerBoundryY],\r\n    [leftInnerBoundryX, leftInnerBoundryY],\r\n    [rightInnerBoundryX, rightInnerBoundryY],\r\n  ];\r\n};\r\n\r\n//  TURNS MANAGER FUNCTION TO RETURN METEORS DROPPED, TURN NUMBER AND METEORS REQUIRED\r\nexport const turnManager = function () {\r\n  meteorsCounter++;\r\n  if (meteorsCounter > meteorsNum) {\r\n    turnsCount--;\r\n    meteorsCounter = 1;\r\n    meteorsNum = helpers.GENERATE_RND_METEORS_NUM();\r\n    if (turnsCount === 3) meteorsNum = 1;\r\n    return {\r\n      meteorsCounter,\r\n      turnsCount,\r\n      meteorsNum,\r\n    };\r\n  }\r\n  return {\r\n    meteorsCounter,\r\n    turnsCount,\r\n    meteorsNum,\r\n  };\r\n};\r\n\r\n//  LOSE CONDITION FUNCTION TO DETECT HOW MANY TILES WERE DESTROYED EACH DROP\r\nexport const loseConditoin = function (tilesContainer, middleTile) {\r\n  let counter = 0;\r\n  if (middleTile.classList.contains(\"destroyed\")) return true;\r\n  tilesContainer.forEach((tile) => {\r\n    if (tile.classList.contains(\"destroyed\")) counter++;\r\n  });\r\n  if (counter >= 4) return true;\r\n};\r\n\r\n//  OBSERVE THE GAME SECTION TO SHOW BACK TO TOP BTN\r\nexport const isBtnVisible = function (gameSection, topBtn) {\r\n  const observer = new IntersectionObserver(\r\n    (entries) => {\r\n      entries.forEach((entry) => {\r\n        if (entry.isIntersecting) {\r\n          topBtn.style.display = \"block\";\r\n        } else {\r\n          topBtn.style.display = \"none\";\r\n        }\r\n      });\r\n    },\r\n    {\r\n      root: null,\r\n      threshold: 0.5,\r\n    }\r\n  );\r\n\r\n  observer.observe(gameSection);\r\n};\r\n\r\n//  RESTART GAME FUCNTION\r\nexport const restart = function (tiles) {\r\n  turnsCount = 5;\r\n  meteorsNum = helpers.GENERATE_RND_METEORS_NUM();\r\n  meteorsCounter = 1;\r\n  tiles.forEach((tile) => {\r\n    if (tile.classList.contains(\"destroyed\"))\r\n      tile.classList.remove(\"destroyed\");\r\n    tile.firstElementChild.textContent = 3;\r\n    tile.style.borderColor = \"rgb(54, 48, 158)\";\r\n    if (tile.classList.contains(\"middle\"))\r\n      tile.firstElementChild.textContent = 4;\r\n  });\r\n\r\n  return {\r\n    turnsCount,\r\n    meteorsNum,\r\n    meteorsCounter,\r\n  };\r\n};\r\n","import dom from \"./DOM\";\r\n\r\nexport const tilesStyling = function (tiles, meteor) {\r\n  if (!tiles) return;\r\n  tiles.forEach((t) => {\r\n    let tileHealth = +t.firstElementChild.textContent;\r\n    if (meteor === dom.yellowMeteor) {\r\n      t.firstElementChild.textContent = tileHealth - 3;\r\n    } else {\r\n      t.firstElementChild.textContent = tileHealth - 1;\r\n    }\r\n    if (+t.firstElementChild.textContent === 2) t.style.borderColor = \"#FFD700\";\r\n    if (+t.firstElementChild.textContent === 1) t.style.borderColor = \"#FF0000\";\r\n    if (+t.firstElementChild.textContent <= 0) {\r\n      t.firstElementChild.textContent = \"Destroyed\";\r\n      t.classList.add(\"destroyed\");\r\n    }\r\n  });\r\n};\r\n","import dom from \"./DOM\";\r\n\r\nlet meteorsNum;\r\n\r\nexport const TurnsCount = function (turnsCount, requiredMeteors, counter) {\r\n  dom.turnsCounter.textContent = `${\r\n    turnsCount <= 0 ? \"GAME OVER\" : `Turns remaining: ${turnsCount}`\r\n  }`;\r\n  dom.meteorsCounter.textContent = `Meteors count: ${counter}/ ${requiredMeteors}`;\r\n};\r\n\r\nexport const requiredMeteors = function (\r\n  generatedMeteorsNum,\r\n  turnsCount,\r\n  counter\r\n) {\r\n  meteorsNum = generatedMeteorsNum;\r\n  dom.meteorsCounter.textContent = `Meteors count: ${counter}/ ${meteorsNum}`;\r\n  dom.turnsCounter.textContent = `Turns remaining: ${turnsCount}`;\r\n};\r\n","import dom from \"./DOM\";\r\nimport { tilesStyling } from \"./tilesView\";\r\nimport * as turn from \"./turnsView\";\r\nimport * as popUp from \"./popUpView\";\r\n\r\nexport let isHolding;\r\n\r\nexport const mouseDown = function (handler) {\r\n  const mouseDownHandler = (e) => {\r\n    if (\r\n      (e.type === \"touchmove\" && e.targetTouches.length > 1) ||\r\n      (e.type === \"mousedown\" && e.button !== 0)\r\n    )\r\n      return;\r\n    if (e.type === \"mousedown\") {\r\n      e.preventDefault();\r\n      handler(e, e.target);\r\n    }\r\n    if (e.type === \"touchstart\") handler(e.touches[0], e.target);\r\n    isHolding = true;\r\n  };\r\n  [\"mousedown\", \"touchstart\"].forEach((event) => {\r\n    document.addEventListener(event, mouseDownHandler);\r\n  });\r\n};\r\n\r\nexport const mouseMove = function (handler) {\r\n  const mouseMoveHandler = (e) => {\r\n    if (\r\n      (e.type === \"touchmove\" && e.targetTouches.length > 1) ||\r\n      (e.type === \"mousemove\" && e.button !== 0)\r\n    )\r\n      return;\r\n    if (e.type === \"mousemove\") e.preventDefault();\r\n    if (!isHolding) return;\r\n    const meteor = e.target.closest(\".meteor\");\r\n    if (!meteor) return;\r\n    handler(e, meteor);\r\n  };\r\n  [\"mousemove\", \"touchmove\"].forEach((event) => {\r\n    document.addEventListener(event, mouseMoveHandler);\r\n  });\r\n};\r\n\r\nexport const mouseUp = function (\r\n  restorePos,\r\n  detectTile,\r\n  turnManager,\r\n  loseConditon\r\n) {\r\n  const mouseUpHandler = (e) => {\r\n    if (\r\n      (e.type === \"touchend\" && e.targetTouches.length > 1) ||\r\n      (e.type === \"mouseup\" && e.button !== 0)\r\n    )\r\n      return;\r\n    if (e.type === \"mouseup\") e.preventDefault();\r\n    isHolding = false;\r\n    if (e.target !== dom.blueMeteor && e.target !== dom.yellowMeteor) return;\r\n    restorePos(dom.blueMeteor, dom.yellowMeteor);\r\n    const tiles = detectTile(e.target, dom.innerYellowMeteor);\r\n    if (!tiles) return;\r\n    tilesStyling(tiles, e.target);\r\n\r\n    let manager = turnManager();\r\n    const lost = loseConditon(dom.tilesArry, dom.middleTile);\r\n    if (!manager) return;\r\n    let { meteorsCounter, turnsCount, meteorsNum } = manager;\r\n    dom.yellowMeteor.style.display = \"none\";\r\n    dom.blueMeteor.style.display = \"block\";\r\n    if (turnsCount === 3) {\r\n      dom.yellowMeteor.style.display = \"flex\";\r\n      dom.blueMeteor.style.display = \"none\";\r\n    }\r\n    turn.TurnsCount(turnsCount, meteorsNum, meteorsCounter);\r\n    popUp.popUpStyling(lost, turnsCount);\r\n    if (meteorsCounter === 2 && turnsCount === 5) {\r\n      dom.resetBtn.style.visibility = \"visible\";\r\n      dom.resetBtn.style.pointerEvents = \"all\";\r\n    }\r\n  };\r\n  [\"mouseup\", \"touchend\"].forEach((event) => {\r\n    document.addEventListener(event, mouseUpHandler);\r\n  });\r\n};\r\n\r\nexport const backToTop = function () {\r\n  dom.topBtn.addEventListener(\"click\", (e) => {\r\n    e.preventDefault();\r\n    window.scrollTo(0, 0);\r\n  });\r\n};\r\nexport const resetGame = function (handler) {\r\n  dom.resetBtn.addEventListener(\"click\", (e) => {\r\n    e.preventDefault();\r\n    const { turnsCount, meteorsNum, meteorsCounter } = handler(dom.tilesArry);\r\n    dom.blueMeteor.style.display = \"block\";\r\n    dom.yellowMeteor.style.display = \"none\";\r\n    dom.resetBtn.style.visibility = \"hidden\";\r\n    dom.resetBtn.style.pointerEvents = \"none\";\r\n    turn.requiredMeteors(meteorsNum, turnsCount, meteorsCounter);\r\n    turn.TurnsCount(turnsCount, meteorsNum, meteorsCounter);\r\n  });\r\n};\r\n","import dom from \"./DOM\";\r\nimport * as turn from \"./turnsView\";\r\n\r\nexport const popUpStyling = function (loseCondition, turnsCount) {\r\n  if (loseCondition) {\r\n    dom.popUp.firstChild.textContent = \"YOU LOST 😞😔\";\r\n    dom.popUp.showModal();\r\n    dom.restartBtn.style.backgroundColor = \"rgba(255, 0, 0, 0.8)\";\r\n    dom.restartBtn.style.borderColor = \"rgba(255, 0, 0, 0)\";\r\n  }\r\n  if (turnsCount <= 0 && !loseCondition) {\r\n    dom.popUp.firstChild.textContent = \"YOU WON 🎉🎉\";\r\n    dom.restartBtn.style.backgroundColor = \"#009100\";\r\n    dom.restartBtn.style.borderColor = \"rgba(255, 0, 0, 0)\";\r\n    dom.popUp.showModal();\r\n  }\r\n};\r\nexport const restart = function (handler) {\r\n  dom.restartBtn.addEventListener(\"click\", (e) => {\r\n    e.preventDefault();\r\n    dom.popUp.close();\r\n\r\n    const { turnsCount, meteorsNum, meteorsCounter } = handler(dom.tilesArry);\r\n    dom.blueMeteor.style.display = \"block\";\r\n    dom.yellowMeteor.style.display = \"none\";\r\n    dom.resetBtn.style.visibility = \"hidden\";\r\n    dom.resetBtn.style.pointerEvents = \"none\";\r\n    turn.requiredMeteors(meteorsNum, turnsCount, meteorsCounter);\r\n    turn.TurnsCount(turnsCount, meteorsNum, meteorsCounter);\r\n  });\r\n};\r\n","//  GLOBAL IMPORTS\r\nimport dom from \"./views/DOM\";\r\nimport * as model from \"./model\";\r\nimport * as game from \"./views/gameView\";\r\nimport * as turns from \"./views/turnsView\";\r\nimport { renderCurrentYear } from \"./views/copyRightView\";\r\nimport * as popUp from \"./views/popUpView\";\r\nimport * as start from \"./views/rulesSectionView\";\r\nimport * as helpers from \"./helpers\";\r\n\r\n//  INIT FUNCTION\r\nconst init = function () {\r\n  renderCurrentYear(helpers.GET_CURRENT_YEAR);\r\n  model.meteorsInitPos(dom.blueMeteor, dom.yellowMeteor);\r\n  game.mouseDown(model.getInitPos);\r\n  game.mouseMove(model.moveMeteors);\r\n  game.mouseUp(\r\n    model.restoreMeteorInitPos,\r\n    model.meteorsDroppedTiles,\r\n    model.turnManager,\r\n    model.loseConditoin\r\n  );\r\n  turns.requiredMeteors(\r\n    model.meteorsNum,\r\n    model.turnsCount,\r\n    model.meteorsCounter\r\n  );\r\n  start.startPlaying();\r\n  game.backToTop();\r\n  model.isBtnVisible(dom.gameSectionEl, dom.topBtn);\r\n  popUp.restart(model.restart);\r\n  game.resetGame(model.restart);\r\n};\r\n\r\ninit();\r\n","import dom from \"./DOM\";\r\n\r\nexport const renderCurrentYear = function (year) {\r\n  dom.copyRight.textContent = year();\r\n};\r\n","import dom from \"./DOM.js\";\r\n\r\nexport const startPlaying = function () {\r\n  dom.startPlayingBtn.addEventListener(\"click\", (e) => {\r\n    e.preventDefault();\r\n    dom.gameSectionEl.scrollIntoView();\r\n  });\r\n};\r\n"],"names":["$6fb2238788dfc921$export$2e2bcd8739ae039","mainSectionEl","document","querySelector","gameSectionEl","tilesArry","Array","from","querySelectorAll","middleTile","yellowMeteor","innerYellowMeteor","blueMeteor","meteorsCounter","turnsCounter","popUp","restartBtn","copyRight","startPlayingBtn","topBtn","resetBtn","$bd02c871d9c5ba8e$export$5986f2c5dcc2c148","$bd02c871d9c5ba8e$export$7c51f165290e9b54","Math","trunc","random","$bd02c871d9c5ba8e$export$5803350008db430","Date","getFullYear","$0f1d4402dffacf5b$export$dd2d0f95fb40fae3","$0f1d4402dffacf5b$var$initClientX","$0f1d4402dffacf5b$var$initClientY","$0f1d4402dffacf5b$var$meteorTopPos","$0f1d4402dffacf5b$var$meteorLeftPos","$0f1d4402dffacf5b$export$642be33ab013dc1d","$0f1d4402dffacf5b$export$5ad07766ef4b1b08","$0f1d4402dffacf5b$export$88e8cb2d206d0e5d","$0f1d4402dffacf5b$export$de6da4f97011833","target","meteor","clientX","clientY","parseInt","getComputedStyle","top","left","$0f1d4402dffacf5b$export$aa18b9ddda6e480a","e","cursorPosX","cursorPosY","type","touches","style","y","x","$0f1d4402dffacf5b$export$7d3e9d0f0a396e4e","pointerEvents","setTimeout","topPos","leftPos","$0f1d4402dffacf5b$export$ca3a8dff8deedd32","yellowInner","tilesHit","meteorData","getBoundingClientRect","innerData","sidesCoordinatesArry","$0f1d4402dffacf5b$var$sidesCoordinates","angleCoordinatesArry","$0f1d4402dffacf5b$var$anglesCoordinates","innerYellowCoordinatesArry","$0f1d4402dffacf5b$var$innerYellowCoordinates","center","$0f1d4402dffacf5b$var$centerCoordinates","middleHit","elementsFromPoint","filter","el","classList","length","contains","map","c","elementFromPoint","concat","Set","topBoundryX","topBoundryY","width","bottomBoundryX","bottomBoundryY","right","bottom","leftBoundryX","leftBoundryY","height","rightBoundryX","rightBoundryY","leftTopCornerX","leftTopCornerY","rightTopCornerX","rightTopCornerY","leftBottomCornerX","leftBottomCornerY","rightBottomCornerX","rightBottomCornerY","centerX","centerY","topInnerBoundryX","topInnerBoundryY","bottomInnerBoundryX","bottomInnerBoundryY","leftInnerBoundryX","leftInnerBoundryY","rightInnerBoundryX","rightInnerBoundryY","$0f1d4402dffacf5b$export$1ac616dc5a9e112e","$0f1d4402dffacf5b$export$4294bdf392254319","tilesContainer","counter","forEach","tile","$0f1d4402dffacf5b$export$db061522beceb703","tiles","remove","firstElementChild","textContent","borderColor","$dc7c66ff5282eb0b$export$c81134a0b623c2f6","t","tileHealth","add","$bcb3026d1d763243$var$meteorsNum","$bcb3026d1d763243$export$5fc54257636e7fca","turnsCount","requiredMeteors","$bcb3026d1d763243$export$90de9ad9d36b4e4c","generatedMeteorsNum","$7d833e5ddaa66490$export$cc9972574270b117","$7d833e5ddaa66490$export$9ac49ece09f002f8","restorePos","detectTile","turnManager","loseConditon","mouseUpHandler","targetTouches","button","preventDefault","manager","lost","meteorsNum","display","loseCondition","firstChild","showModal","backgroundColor","$4d778536ab4f7932$export$c767ea3443a23741","visibility","event","addEventListener","year","gameSection","handler","meteorsObj","$0f1d4402dffacf5b$export$79362668a80f28fd","mouseDownHandler","$7d833e5ddaa66490$export$ea32a7693b83cfdb","mouseMoveHandler","closest","$7d833e5ddaa66490$export$9dd8faafa840a16","scrollIntoView","window","scrollTo","IntersectionObserver","entries","entry","isIntersecting","root","threshold","observe","close","$7d833e5ddaa66490$export$8a9e2a13fbf8faaf"],"version":3,"file":"index.c883d66f.js.map"}